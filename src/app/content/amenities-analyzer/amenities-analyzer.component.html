<div class="amenities-analyzer">
  <!-- Full Page Loading State -->
  <div *ngIf="isLoading" class="d-flex justify-content-center align-items-center" style="min-height: 60vh;">
    <div class="text-center">
      <div class="spinner-border text-primary mb-3" role="status" style="width: 3rem; height: 3rem;">
        <span class="visually-hidden">Loading...</span>
      </div>
      <h4 class="text-muted">Loading Amenities Analysis</h4>
      <p class="text-muted">Analyzing conversion boosters and area amenities...</p>
    </div>
  </div>

  <!-- Main Content (hidden while loading) -->
  <div *ngIf="!isLoading" class="main-content">
    <!-- Ranking & Conversion Boosters Section -->
    <div class="section">
      <div class="section-header">
        <h2>Ranking & Conversion Boosters</h2>
        <p class="section-description">
          Our research has found these amenities to boost visibility & conversions for most listings. 
          Green shows amenities you have & red shows missing amenities.
        </p>
      </div>
      
      <div class="amenities-grid" *ngIf="rankingBoosters.length > 0">
        <div class="amenity-chip" 
             [ngClass]="{'has-amenity': item.has, 'missing-amenity': !item.has}"
             *ngFor="let item of rankingBoosters">
          <div class="amenity-icon">
            <i class="fas" [ngClass]="item.has ? 'fa-check' : 'fa-times'"></i>
          </div>
          <span class="amenity-name">{{ item.name }}</span>
          <div class="info-icon">
            <i class="fas fa-info-circle"></i>
          </div>
        </div>
      </div>
      
      <!-- No data message for conversion boosters -->
      <div *ngIf="rankingBoosters.length === 0" class="no-data-message">
        <div class="no-data-icon">
          <i class="fas fa-info-circle"></i>
        </div>
        <h3>No Conversion Boosters Data Available</h3>
        <p>We don't have conversion booster data for this property yet. This could be because:</p>
        <ul>
          <li>The property is new to our system</li>
          <li>Insufficient data for analysis</li>
          <li>Data is still being processed</li>
        </ul>
      </div>
    </div>

    <!-- Top Ranking Amenities Section -->
    <div class="section">
      <div class="section-header">
        <h2>Top Ranking Amenities in Your Area (from popular to rare)</h2>
        <p class="section-description">
          You're missing these high-ranking items based on your local area.
        </p>
        <div class="tip-box">
          <strong>Tip:</strong> Items listed below are not always found in the Airbnb Amenities section of the Airbnb editor. 
          Some items are found under 'House Rules', 'Check-in method' or 'Accessibility'.
        </div>
      </div>
      
      <div class="amenities-grid" *ngIf="topRankingAmenities.length > 0">
        <div class="amenity-chip missing-amenity" *ngFor="let amenity of topRankingAmenities">
          <div class="amenity-icon">
            <i class="fas fa-times"></i>
          </div>
          <span class="amenity-name">{{ amenity }}</span>
          <div class="info-icon">
            <i class="fas fa-info-circle"></i>
          </div>
        </div>
      </div>
      
      <!-- No data message for top area amenities -->
      <div *ngIf="topRankingAmenities.length === 0" class="no-data-message">
        <div class="no-data-icon">
          <i class="fas fa-info-circle"></i>
        </div>
        <h3>No Area Amenities Data Available</h3>
        <p>We don't have area amenities data for this property yet. This could be because:</p>
        <ul>
          <li>The property is in a new or less analyzed area</li>
          <li>Insufficient competitor data for comparison</li>
          <li>Data is still being processed</li>
        </ul>
      </div>
    </div>
  </div><!-- End of main-content -->
</div>