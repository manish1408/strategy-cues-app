 
 <div class="container-fluid">
  <div class="row">
    <div class="col-12">
        <div class="d-flex justify-content-between align-items-center">
            <div class="page-header">
                <h1>Analytics Cues</h1>
                <p>This is the Analytics Cues page. Here you can manage the Analytics Cues data.</p>
            </div>
         
           <div class="d-flex justify-content-between align-items-end gap-2">
             <div class="form-group">
               <label for="startDate">Start Date</label>
               <input type="date" class="form-control" id="startDate" [value]="startDate" (change)="onDateInputChange('start', $any($event.target).value)">
             </div>
             <div class="form-group">
               <label for="endDate">End Date</label>
               <input type="date" class="form-control" id="endDate" [value]="endDate" (change)="onDateInputChange('end', $any($event.target).value)">
            </div>
           <button class="btn btn-outline-success" (click)="analyticsReport()">
            <i class="fas fa-paper-plane me-2"></i>Submit
          </button>
         </div>
        </div>
      
  </div>
 </div>
 
 <!-- Loading State -->
 <div *ngIf="loading" class="text-center py-5 loading-state">
    <div class="spinner-border " role="status">
      <span class="visually-hidden">Loading...</span>
    </div>
    <p class="mt-3">Loading data...</p>
  </div>


  <!-- Error State -->
  <div *ngIf="error && !loading" class="alert alert-danger" role="alert">
    <h4 class="alert-heading">Error!</h4>
    <p>{{ error }}</p>
    <hr>
    <button class="btn btn-outline-danger" (click)="analyticsReport()">
      <i class="fas fa-refresh me-2"></i>Try Again
    </button>
  </div>


  <!-- Table View -->
  <div class="table-container" *ngIf="!loading && !error && data && data.length > 0">
    <table>
        <thead>
            <tr>
             <th class="text-center">#</th>
              <th>ADR</th>
              <th>RevPar</th>
              <th>Occupancy %</th>
              <th>Rental Revenue</th>
              <th>Avg Market ADR</th>
              <th>Avg Market Occ %</th>
              <th>Market Penetration Index</th>
              <th>ADR Penetration Index</th>
              <th>RevPar Penetration Index</th>
              <th>Occ Pickup 7</th>
              <th>Occ Pickup 14</th>
              <th>Occ Pickup 30</th>
              <th>ADR YoY %</th>
              <th>RevPar YoY %</th>
              <th>Revenue YoY %</th>
              <th>Occ YoY Diff</th>
            </tr>
          </thead>
      <tbody>
        <tr *ngFor="let row of (data || []); let i = index">
          <td class="text-center">{{ i + 1 }}</td>
          <td>{{ row['ADR'] | number:'1.0-2' }}</td>
          <td>{{ row['RevPar'] | number:'1.0-2' }}</td>
          <td>{{ row['Occupancy'] | number:'1.0-2' }}</td>
          <td>{{ row['Rental Revenue'] | number:'1.0-2' }}</td>
          <td>{{ row['Average Market ADR'] | number:'1.0-2' }}</td>
          <td>{{ row['Average Market Occupancy'] | number:'1.0-2' }}</td>
          <td>{{ row['Market Penetration Index'] | number:'1.0-2' }}</td>
          <td>{{ row['Market Penetration ADR Index'] | number:'1.0-2' }}</td>
          <td>{{ row['Market Penetration RevPar Index'] | number:'1.0-2' }}</td>
          <td>{{ row['Occupancy Pickup 7'] | number:'1.0-2' }}</td>
          <td>{{ row['Occupancy Pickup 14'] | number:'1.0-2' }}</td>
          <td>{{ row['Occupancy Pickup 30'] | number:'1.0-2' }}</td>
          <td>{{ row['ADR YoY %'] !== null ? (row['ADR YoY %'] | number:'1.0-2') : '—' }}</td>
          <td>{{ row['RevPar YoY %'] !== null ? (row['RevPar YoY %'] | number:'1.0-2') : '—' }}</td>
          <td>{{ row['Rental Revenue YoY %'] !== null ? (row['Rental Revenue YoY %'] | number:'1.0-2') : '—' }}</td>
          <td>{{ row['Occupancy YoY difference'] | number:'1.0-2' }}</td>
        </tr>
      </tbody>
    </table>

  </div>


  <!-- Empty State -->
  <div *ngIf="!loading && !error && (!data || data.length === 0)" class="text-center py-5">
    <div class="card">
      <div class="card-body">
        <i class="fas fa-building fa-3x text-muted mb-3"></i>
        <h5 class="card-title text-black">No Data Found</h5>
        <p class="card-text text-black">No data found for the selected period.
        </p>
       
      </div>
    </div>
  </div>